import { PrismaClient } from '@prisma/client'
import { createSeedPrismaClient } from '../src/lib/database-seed'

const defaultPackages = [
  {
    id: 1,
    title: "‡πÅ‡∏û‡πá‡∏Ñ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô",
    subtitle: "‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏™‡∏≥‡∏£‡∏ß‡∏à‡πÇ‡∏•‡∏Å‡πÅ‡∏´‡πà‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢",
    price: 99, // ‡∏ø99
    creditAmount: 8, // 99/8 = 12.38 ‡∏ö‡∏≤‡∏ó‡∏ï‡πà‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°
    ctaText: "‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏•‡∏¢",
    popular: false,
    sortOrder: 1,
    metadata: {
      features: [
        "8 ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥",
        "‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏û‡πà‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô", 
        "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢",
        "‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢"
      ],
      description: "‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏•‡∏≠‡∏á‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏õ‡∏£‡∏∞‡∏™‡∏ö‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡πÑ‡∏û‡πà‡∏ó‡∏≤‡πÇ‡∏£‡∏ï‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å",
      bestFor: "‡∏ú‡∏π‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô",
      valuePerReading: "12.38 ‡∏ö‡∏≤‡∏ó‡∏ï‡πà‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°"
    }
  },
  {
    id: 2,
    title: "‡πÅ‡∏û‡πá‡∏Ñ‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤", 
    subtitle: "‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠",
    price: 199, // ‡∏ø199
    creditAmount: 22, // 199/22 = 9.05 ‡∏ö‡∏≤‡∏ó‡∏ï‡πà‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° (‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!)
    ctaText: "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏û‡πá‡∏Ñ‡∏ô‡∏µ‡πâ",
    popular: true,
    sortOrder: 2,
    metadata: {
      features: [
        "22 ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥",
        "‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏û‡πà‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á",
        "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢", 
        "‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢",
        "‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡πÅ‡∏ö‡∏ö‡∏û‡∏¥‡πÄ‡∏®‡∏©",
        "‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢"
      ],
      description: "‡πÅ‡∏û‡πá‡∏Ñ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î! ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠",
      bestFor: "‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ",
      valuePerReading: "9.05 ‡∏ö‡∏≤‡∏ó‡∏ï‡πà‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°",
      savings: "‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏û‡πá‡∏Ñ‡∏≠‡∏∑‡πà‡∏ô 25%"
    }
  },
  {
    id: 3,
    title: "‡πÅ‡∏û‡πá‡∏Ñ‡∏û‡∏£‡∏µ‡πÄ‡∏°‡∏µ‡∏¢‡∏°",
    subtitle: "‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÅ‡∏™‡∏ß‡∏á‡∏´‡∏≤‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ç‡∏ç‡∏≤‡∏ì‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á",
    price: 399, // ‡∏ø399  
    creditAmount: 35, // 399/35 = 11.4 ‡∏ö‡∏≤‡∏ó‡∏ï‡πà‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°
    ctaText: "‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏•‡∏¢",
    popular: false,
    sortOrder: 3,
    metadata: {
      features: [
        "35 ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥",
        "‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏û‡πà‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏ã‡∏µ‡∏¢‡∏ô", 
        "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡πÑ‡∏°‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î",
        "‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡∏û‡∏¥‡πÄ‡∏®‡∏©",
        "‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡πÅ‡∏ö‡∏ö VIP",
        "‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÄ‡∏â‡∏û‡∏≤‡∏∞",
        "‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï",
        "‡∏Ñ‡∏≥‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏ä‡∏¥‡∏á‡∏à‡∏¥‡∏ï‡∏ß‡∏¥‡∏ç‡∏ç‡∏≤‡∏ì"
      ],
      description: "‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÅ‡∏™‡∏ß‡∏á‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏•‡∏∂‡∏Å ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏û‡∏£‡∏µ‡πÄ‡∏°‡∏µ‡∏¢‡∏°",
      bestFor: "‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç",
      valuePerReading: "11.40 ‡∏ö‡∏≤‡∏ó‡∏ï‡πà‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°",
      extras: "‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏ã‡∏µ‡∏¢‡∏ô"
    }
  }
]

async function main(prisma: PrismaClient) {
  console.log('üå± Start seeding packages...')
  
  // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï packages ‡∏î‡πâ‡∏ß‡∏¢ upsert
  for (const pack of defaultPackages) {
    await prisma.pack.upsert({
      where: { id: pack.id },
      update: pack,
      create: pack,
    })
    const priceInBaht = pack.price
    const pricePerQuestion = priceInBaht / pack.creditAmount
    console.log(`‚úì "${pack.title}": ${priceInBaht}‡∏ø | ${pack.creditAmount} ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° | ${pricePerQuestion.toFixed(2)}‡∏ø/‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° ${pack.popular ? '‚≠ê POPULAR' : ''}`)
  }
  
  console.log('\nüìä Package Comparison:')
  console.log('‡πÅ‡∏û‡πá‡∏Ñ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô: 12.38‡∏ø/‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°')
  console.log('‡πÅ‡∏û‡πá‡∏Ñ‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤: 9.05‡∏ø/‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° ‚≠ê (‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!)')
  console.log('‡πÅ‡∏û‡πá‡∏Ñ‡∏û‡∏£‡∏µ‡πÄ‡∏°‡∏µ‡∏¢‡∏°: 11.40‡∏ø/‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°')
  console.log('\n‚úÖ Seeding finished successfully!')
}

// Run package seeding script
async function runPackageSeed() {
  const prisma = createSeedPrismaClient();

  try {
    console.log('üöÄ Starting Package Seed Script...');
    await main(prisma);
    console.log('‚úÖ Package Seed Script completed successfully');
  } catch (error) {
    console.error('‚ùå Package Seed Script failed:', error);
    process.exit(1);
  } finally {
    await prisma.$disconnect();
    console.log('üîå Database connection closed');
  }
}

runPackageSeed();